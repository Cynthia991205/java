# Jsoniter - Fastest JSON parser ever

[TOC]

## Introduction

In computing, **JavaScript Object Notation (JSON)** is an open-standard file format that uses human-readable text to transmit data objects consisting of attribute–value pairs and array data types [[1](#reference-1)]. A common use of JSON is to exchange data to/from a web server. When receiving data from a web server, the data is always a string. Parse the data with JSON Parser, and the data becomes a JavaScript object.

Recently, the amount of data transmitted by the network has soared. To process all the data before users feel a noticeable delay, the speed required for JSON Parser has been greatly increased and traditional parsers are too slow to meet demand.

In this context, **Didi Chuxing Technology Department** created **Jsoniter** to make JSON parsing faster and easier. Jsoniter Java version could be **3** times faster than jackson/gson/fastjson and Jsoniter Golang version could be more than **6** times faster than standard lib (encoding/json) [[2](#reference-2)]. Besides, Jsoniter gets things done, as fast as possible. Most common use case is just one line. Even better, it's easy to migrate from traditional parsers.

This chapter aims at analyzing Jsoniter as a software project based on viewpoints and perspectives defined by Rozanski and Woods [[3](#reference-3)]. First, the Stakeholders and Context view are analysed to provide insights into the organisation of the project. Furthermore, detailed analysis of the architecture is presented in order to understand its structure. In addition, technical debt in terms of code, testing and documentation was also found throughout the analysis of the system and is presented in the chapter. Finally, the chapter concludes with our findings of the project.

## Stakeholders

Using the stakeholder analysis categories in the book Software Systems Architecture: Working with Stakeholders Using Viewpoints and Perspectives we have identified several groups of stakeholders in the json-iterator [[3](#reference-3)]. In the sections below we will identify the stakeholders by category.

<center><i>Table 1: Summary most important stakeholders.</i></center>
| **Stakeholders** | **Description**                                              |
| ---------------- | ------------------------------------------------------------ |
| Acquires         | Acquires can be seen as business sponsors. The founders of json-iterator are the ones that authorize funding for the products and system development. |
| Assessors        | Assessors are stakeholders that oversee whether legal constraints are complied with. We recognize developers' ownership of the open source repository. Another legal constraint that one could think of are the licenses that the dependencies of json-iterator have. Architectured in Java and go, these two companies have an impact on it. Finally, there are the licenses that json-iterator itself uses. These licenses have an effect on the users and potentially limit certain usages of the framework. |
| Communicators    | Communicators are experts’ system that explain the system (and its architecture) to others and additionally train the support staff of the system. Due to the lack of a dedicated support staff, the training thereof is not an applicable task in this project. Therefore, the first place to go to if   you want to obtain information about the system would be the user guide. Developers still leave GitHub addresses and their mailboxes for people to contact. |
| Users            | Users are the end users of json-iterator. They use json-iterator to parse Json. Json-iterator is fast and flexible JSON parser available in Java and Go. |
| Testers          | All bugs in the software can be emailed or issued on GitHub. Bugs and problems are picked up by the contributors on GitHub. |
| Developers       | In the case of json-iterator contributors are more than just developers. Contributors are also testers and maintainers. When contributing to this project, a developer has to test his or her own contribution before it is merged into the code base. A contribution can be the implementation of a new feature, but it can also be a bug fix, an update to the documentation or a refactor. Therefore, it differs per contribution what role a contributor has. The most outstanding contributor is [@taowen](https://github.com/taowen).  Twelve people, including [@plokhotnyuk](https://github.com/plokhotnyuk), [@caoli5288](https://github.com/caoli5288), [@ashutoshcp](https://github.com/ashutoshcp), [@elifarley](https://github.com/elifarley), [@Miha-x64](https://github.com/Miha-x64), also made their own contributor. |
| Support staff    | Json-iterator has no dedicated support staff. Whenever a user runs into problems, they have several options:<br />1. Consult the user guide: Developers   provide detailed user guide for users to refer to.<br />2. Send mail to developer: The main developer   leaves his contact mailboxes in both user manuals and open source websites.<br />3. Posting for help on major websites: There are many websites for developers to communicate with, and there will be many users of this project. So if you encounter problems, you can also post on the website for help. |
| Suppliers        | We have chosen to divide the suppliers of json-iterator into two different subcategories: the first category consists of the suppliers that are used for the development of json-iterator; the second category consists of suppliers that support the end use of json-iterator in some way.<br />1. Development suppliers: Java, Go.<br />2. End use suppliers: IDEs (e.g. IntelliJ), Maven/Gradle. |
| Maintainers      | Software solutions are assessed by the Software development team in order to maintain the programming standards and architectural choices. |

<center><i>Table 2: Most active contributors in terms of number of commits.</i></center>
| **Contributor**                                             | **Commits** | **LOC++** | **LOC--** |
| ----------------------------------------------------------- | ----------- | --------- | --------- |
| [taowen](https://github.com/taowen)                         | 403         | 69,567    | 45,265    |
| [plokhotnyuk](https://github.com/plokhotnyuk)               | 5           | 183       | 116       |
| [caoli5288](https://github.com/caoli5288)                   | 5           | 117       | 33        |
| [ashutoshcp](https://github.com/ashutoshcp)                 | 5           | 25        | 50        |
| [elifarley](https://github.com/elifarley)                   | 2           | 6         | 6         |
| [Miha-x64](https://github.com/Miha-x64)                     | 2           | 5         | 6         |
| [vokoshyv](https://github.com/vokoshyv)                     | 1           | 1         | 1         |
| [spidaMikeFord](https://github.com/spidaMikeFord)           | 1           | 14        | 0         |
| [keremulutas](https://github.com/keremulutas)               | 1           | 21        | 1         |
| [Diffblue-assistant](https://github.com/diffblue-assistant) | 1           | 139       | 1         |
| [biezhi](https://github.com/biezhi)                         | 1           | 4         | 4         |
| [based2](https://github.com/based2)                         | 1           | 10        | 10        |
| [James-Adam](https://github.com/James-Adam)                 | 1           | 28        | 0         |

### Power/Interest Grid 

The power/interest grid (see [Figure 1](#figure-1)) contains the main stakeholder categories. Developers are the most important to manage, maintainers come second as they have a hand in the evolution of the product. Acquires and assessors are relatively powerful because the system is dependent on their choices, but their interest is relatively low. We have to keep Communicators, and Testers very well informed to be able to perform their tasks. Users also have to be kept informed but have very limited power. Finally, Development suppliers and End use suppliers can be monitored but do not require a lot of attention, as they have both low interest and power.<span id="figure-1"></span>

![](https://i.loli.net/2019/10/03/rx3bmRyUtvPspjd.png)

<center><i>Figure 1: Power/interest grid.</i></center>

## Context View

The context view shows the different relations, dependencies and interactions Jsoniter has with its environment. Important for the context view are the people, systems and external entities with witch the system interacts.

![](https://i.loli.net/2019/10/03/RxsTIXDO8P5qVZ9.png)

<center><i>Figure 2: Context view.</i></center>
### Communication Tools

Josniter uses **GitHub** and **Git** for version control to help developers collaborate and track issues related to the parser. Contributerions in the repository come from Jsoniter development team, as well as from the open source community.

### Development Tools

The developers are mainly development teamers and other contributors from the open source community. They develop many versions of Josniter. Among them, **Java** and **Go** are the mainly used languages.

Jsoniter has many versions on Android, so one of the most popular IDE used is **Android Studio**. And other Java IDE like **IntelliJ IDEA** and **Eclipse** are used by development team. Of course, Java JDK is also important during development.

## References

1. <span id="reference-1">Wikipedia. JSON. https://en.wikipedia.org/wiki/JSON, 2019.</span>
2. <span id="reference-2">Jsoniter home page. http://jsoniter.com/, 2019.</span>
3. <span id="reference-3">Nick Rozanski and Eoin Woods. Software Systems Architecture: Working with Stakeholders using Viewpoints and Perspectives. Addison-Wesley, 2012. </span>

